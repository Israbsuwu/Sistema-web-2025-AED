{% extends "vlastef_app/layout.html" %}
{% load static %}

{% block title %}Registro{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'vlastef_app/css/register.css' %}">
{% endblock %}

{% block body %}
    <div class="container">
        <h1>Sign in / Crear cuenta</h1>
        <p class="small">Ingrese sus datos. Los campos marcados con * son obligatorios.</p>

        <form id="registerForm" method="post" novalidate>
            {% csrf_token %}
            {% if messages %}
                {% for message in messages %}
                    <div class="{% if message.tags %}{{ message.tags }}{% endif %}">{{ message }}</div>
                {% endfor %}
            {% endif %}

            <div class="field">
                <label for="id_username">Usuario *</label>
                {{ form.username.errors }}
                {{ form.username }}
            </div>

            <div class="field">
                <label for="id_correo">Correo *</label>
                {{ form.correo.errors }}
                {{ form.correo }}
            </div>

            <div class="field">
                <label for="id_contrasena">Contraseña *</label>
                {{ form.contrasena.errors }}
                {{ form.contrasena }}
                <label class="show-label">
                    <input type="checkbox" id="togglePwd"> Mostrar contraseña
                </label>
            </div>

            <div class="field">
                <label for="id_contrasena2">Confirmar contraseña *</label>
                {{ form.contrasena2.errors }}
                {{ form.contrasena2 }}
            </div>

            <div class="row">
                <div class="field">
                    <label for="id_nombres">Nombres *</label>
                    {{ form.nombres.errors }}
                    {{ form.nombres }}
                </div>
                <div class="field">
                    <label for="id_apellidos">Apellidos *</label>
                    {{ form.apellidos.errors }}
                    {{ form.apellidos }}
                </div>
            </div>

            <div class="row">
                <div class="field">
                    <label for="id_fecha_nac">Fecha de nacimiento</label>
                    {{ form.fecha_nac.errors }}
                    {{ form.fecha_nac }}
                </div>
                <div class="field">
                    <label for="id_sexo">Sexo</label>
                    {{ form.sexo.errors }}
                    {{ form.sexo }}
                </div>
            </div>

            <div class="field">
                <label for="id_direccion">Dirección</label>
                {{ form.direccion.errors }}
                {{ form.direccion }}
            </div>

            <div class="actions">
                <button type="submit" class="btn-primary">Enviar</button>
                <!-- volver al login (index) para iniciar sesión tras registro) -->
                <a class="btn secondary" href="{% url 'index' %}">Volver</a>
            </div>
        </form>
    </div>
{% endblock %}

{% block extra_js %}
    <script src="{% static 'vlastef_app/js/register.js' %}"></script>
{% endblock %}